<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.idcq.appserver.dto.message.MessageCenterDto" >
  <resultMap id="BaseResultMap" type="com.idcq.appserver.dto.message.MessageCenterDto" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Mar 12 12:11:08 CST 2016.
    -->
    <id column="message_id" property="messageId" jdbcType="BIGINT" />
    <result column="handle_type" property="handleType" jdbcType="SMALLINT" />
    <result column="client_system_type" property="clientSystemType" jdbcType="TINYINT" />
    <result column="message_title" property="messageTitle" jdbcType="VARCHAR" />
    <result column="show_content" property="showContent" jdbcType="VARCHAR" />
    <result column="message_image" property="messageImage" jdbcType="VARCHAR" />
    <result column="json_data" property="jsonData" jdbcType="VARCHAR" />
    <result column="notify_type" property="notifyType" jdbcType="TINYINT" />
    <result column="receiver_id" property="receiverId" jdbcType="INTEGER" />
    <result column="notify_time" property="notifyTime" jdbcType="TIMESTAMP" />
    <result column="notify_channel" property="notifyChannel" jdbcType="TINYINT" />
    <result column="biz_type" property="bizType" jdbcType="TINYINT" />
    <result column="biz_id" property="bizId" jdbcType="INTEGER" />
    <result column="message_status" property="messageStatus" jdbcType="TINYINT" />
    <result column="notify_model" property="notifyModel" jdbcType="TINYINT" />
    <result column="expect_send_time" property="expectSendTime" jdbcType="TIMESTAMP" />
    <result column="send_result" property="sendResult" jdbcType="TINYINT" />
    <result column="repeat_times" property="repeatTimes" jdbcType="SMALLINT" />
    <result column="feedback_type" property="feedbackType" jdbcType="TINYINT" />
  </resultMap>
  <sql id="Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Mar 12 12:11:08 CST 2016.
    -->
    <where >
      <foreach collection="oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Mar 12 12:11:08 CST 2016.
    -->
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Mar 12 12:11:08 CST 2016.
    -->
    message_id, handle_type, client_system_type, message_title, show_content, message_image, 
    json_data, notify_type, receiver_id, notify_time, notify_channel, biz_type, biz_id, 
    message_status, notify_model, expect_send_time, send_result, repeat_times, feedback_type
  </sql>
  <select id="getMessageCenterDtoList" resultMap="BaseResultMap" parameterType="java.util.Map" >
    SELECT
    <include refid="Base_Column_List" />
    FROM 1dcq_message_center 
    WHERE 1=1
    <if test="clientSystemType != null">
    	AND client_system_type = #{clientSystemType}
    </if>
    <if test="bizId != null">
    	AND biz_id = #{bizId}
    </if>
    <if test="receiverId != null">
    	AND receiver_id = #{receiverId}
    </if>
    <if test="bizType != null">
    	AND biz_type = #{bizType}
    </if>
    <if test="feedbackType != null">
    	AND feedback_type = #{feedbackType}
    </if>
    <if test="notifyType  != null">
    	AND notify_type = #{notifyType }
    </if>
    order by notify_time  desc
    limit #{limit},#{pageSize}
  </select>
  <select id="getMessageCenterDtoListCount" resultType="java.lang.Integer" parameterType="java.util.Map" >
    SELECT
    count(1)
    FROM 1dcq_message_center 
    WHERE 1=1
    <if test="clientSystemType != null">
    	AND client_system_type = #{clientSystemType}
    </if>
    <if test="bizId != null">
    	AND biz_id = #{bizId}
    </if>
    <if test="receiverId != null">
    	AND receiver_id = #{receiverId}
    </if>
    <if test="bizType != null">
    	AND biz_type = #{bizType}
    </if>
    <if test="feedbackType != null">
    	AND feedback_type = #{feedbackType}
    </if>
    <if test="notifyType  != null">
    	AND notify_type = #{notifyType }
    </if>
  </select>
  <select id="getMessageCenterDtoById" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    select 
    <include refid="Base_Column_List" />
    from 1dcq_message_center
    where message_id = #{messageId,jdbcType=BIGINT}
  </select>
  <select id="getCountById" resultType="java.lang.Integer" parameterType="java.util.Map" >
    select count(1)
    from 1dcq_message_center
    <where>
   		<if test="bizType != null and bizType != 16">
   			<if test="messageCenterDtoId != null">
   				and biz_id = #{messageCenterDtoId,jdbcType=BIGINT}
   			</if>
   		</if>
   		<if test="bizType != null and bizType == 16">
   			<if test="messageCenterDtoId != null">
   				and message_id = #{messageCenterDtoId,jdbcType=BIGINT}
   			</if>
   		</if>
   		<if test="notifyType != null">
   			and notify_type = #{notifyType,jdbcType=BIGINT}
   		</if>
   		<if test="receiverId != null">
   			and receiver_id = #{receiverId,jdbcType=BIGINT}
   		</if>
    </where>
  </select>
  <delete id="delMessageCenterDtoById" parameterType="java.lang.Long" >
    delete from 1dcq_message_center
    where message_id = #{messageId,jdbcType=BIGINT}
  </delete>
  <delete id="deleteByExample" parameterType="com.idcq.appserver.dto.message.MessageCenterDto" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Mar 12 12:11:08 CST 2016.
    -->
    delete from 1dcq_message_center
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.idcq.appserver.dto.message.MessageCenterDto" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Mar 12 12:11:08 CST 2016.
    -->
    insert into 1dcq_message_center (message_id, handle_type, client_system_type, 
      message_title, show_content, message_image, 
      json_data, notify_type, receiver_id, 
      notify_time, notify_channel, biz_type, 
      biz_id, message_status, notify_model, 
      expect_send_time, send_result, repeat_times, 
      feedback_type)
    values (#{messageId,jdbcType=BIGINT}, #{handleType,jdbcType=SMALLINT}, #{clientSystemType,jdbcType=TINYINT}, 
      #{messageTitle,jdbcType=VARCHAR}, #{showContent,jdbcType=VARCHAR}, #{messageImage,jdbcType=VARCHAR}, 
      #{jsonData,jdbcType=VARCHAR}, #{notifyType,jdbcType=TINYINT}, #{receiverId,jdbcType=INTEGER}, 
      #{notifyTime,jdbcType=TIMESTAMP}, #{notifyChannel,jdbcType=TINYINT}, #{bizType,jdbcType=TINYINT}, 
      #{bizId,jdbcType=INTEGER}, #{messageStatus,jdbcType=TINYINT}, #{notifyModel,jdbcType=TINYINT}, 
      #{expectSendTime,jdbcType=TIMESTAMP}, #{sendResult,jdbcType=TINYINT}, #{repeatTimes,jdbcType=SMALLINT}, 
      #{feedbackType,jdbcType=TINYINT})
  </insert>
  <insert id="addMessageCenterDto" parameterType="com.idcq.appserver.dto.message.MessageCenterDto"  keyProperty="messageId" useGeneratedKeys="true">
    insert into 1dcq_message_center
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="messageId != null" >
        message_id,
      </if>
      <if test="handleType != null" >
        handle_type,
      </if>
      <if test="clientSystemType != null" >
        client_system_type,
      </if>
      <if test="messageTitle != null" >
        message_title,
      </if>
      <if test="showContent != null" >
        show_content,
      </if>
      <if test="messageImage != null" >
        message_image,
      </if>
      <if test="jsonData != null" >
        json_data,
      </if>
      <if test="notifyType != null" >
        notify_type,
      </if>
      <if test="receiverId != null" >
        receiver_id,
      </if>
      <if test="notifyTime != null" >
        notify_time,
      </if>
      <if test="notifyChannel != null" >
        notify_channel,
      </if>
      <if test="bizType != null" >
        biz_type,
      </if>
      <if test="bizId != null" >
        biz_id,
      </if>
      <if test="messageStatus != null" >
        message_status,
      </if>
      <if test="notifyModel != null" >
        notify_model,
      </if>
      <if test="expectSendTime != null" >
        expect_send_time,
      </if>
      <if test="sendResult != null" >
        send_result,
      </if>
      <if test="repeatTimes != null" >
        repeat_times,
      </if>
      <if test="feedbackType != null" >
        feedback_type,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="messageId != null" >
        #{messageId,jdbcType=BIGINT},
      </if>
      <if test="handleType != null" >
        #{handleType,jdbcType=SMALLINT},
      </if>
      <if test="clientSystemType != null" >
        #{clientSystemType,jdbcType=TINYINT},
      </if>
      <if test="messageTitle != null" >
        #{messageTitle,jdbcType=VARCHAR},
      </if>
      <if test="showContent != null" >
        #{showContent,jdbcType=VARCHAR},
      </if>
      <if test="messageImage != null" >
        #{messageImage,jdbcType=VARCHAR},
      </if>
      <if test="jsonData != null" >
        #{jsonData,jdbcType=VARCHAR},
      </if>
      <if test="notifyType != null" >
        #{notifyType,jdbcType=TINYINT},
      </if>
      <if test="receiverId != null" >
        #{receiverId,jdbcType=INTEGER},
      </if>
      <if test="notifyTime != null" >
        #{notifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="notifyChannel != null" >
        #{notifyChannel,jdbcType=TINYINT},
      </if>
      <if test="bizType != null" >
        #{bizType,jdbcType=TINYINT},
      </if>
      <if test="bizId != null" >
        #{bizId,jdbcType=INTEGER},
      </if>
      <if test="messageStatus != null" >
        #{messageStatus,jdbcType=TINYINT},
      </if>
      <if test="notifyModel != null" >
        #{notifyModel,jdbcType=TINYINT},
      </if>
      <if test="expectSendTime != null" >
        #{expectSendTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sendResult != null" >
        #{sendResult,jdbcType=TINYINT},
      </if>
      <if test="repeatTimes != null" >
        #{repeatTimes,jdbcType=SMALLINT},
      </if>
      <if test="feedbackType != null" >
        #{feedbackType,jdbcType=TINYINT},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.idcq.appserver.dto.message.MessageCenterDto" resultType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Mar 12 12:11:08 CST 2016.
    -->
    select count(*) from 1dcq_message_center
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Mar 12 12:11:08 CST 2016.
    -->
    update 1dcq_message_center
    <set >
      <if test="record.messageId != null" >
        message_id = #{record.messageId,jdbcType=BIGINT},
      </if>
      <if test="record.handleType != null" >
        handle_type = #{record.handleType,jdbcType=SMALLINT},
      </if>
      <if test="record.clientSystemType != null" >
        client_system_type = #{record.clientSystemType,jdbcType=TINYINT},
      </if>
      <if test="record.messageTitle != null" >
        message_title = #{record.messageTitle,jdbcType=VARCHAR},
      </if>
      <if test="record.showContent != null" >
        show_content = #{record.showContent,jdbcType=VARCHAR},
      </if>
      <if test="record.messageImage != null" >
        message_image = #{record.messageImage,jdbcType=VARCHAR},
      </if>
      <if test="record.jsonData != null" >
        json_data = #{record.jsonData,jdbcType=VARCHAR},
      </if>
      <if test="record.notifyType != null" >
        notify_type = #{record.notifyType,jdbcType=TINYINT},
      </if>
      <if test="record.receiverId != null" >
        receiver_id = #{record.receiverId,jdbcType=INTEGER},
      </if>
      <if test="record.notifyTime != null" >
        notify_time = #{record.notifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.notifyChannel != null" >
        notify_channel = #{record.notifyChannel,jdbcType=TINYINT},
      </if>
      <if test="record.bizType != null" >
        biz_type = #{record.bizType,jdbcType=TINYINT},
      </if>
      <if test="record.bizId != null" >
        biz_id = #{record.bizId,jdbcType=INTEGER},
      </if>
      <if test="record.messageStatus != null" >
        message_status = #{record.messageStatus,jdbcType=TINYINT},
      </if>
      <if test="record.notifyModel != null" >
        notify_model = #{record.notifyModel,jdbcType=TINYINT},
      </if>
      <if test="record.expectSendTime != null" >
        expect_send_time = #{record.expectSendTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.sendResult != null" >
        send_result = #{record.sendResult,jdbcType=TINYINT},
      </if>
      <if test="record.repeatTimes != null" >
        repeat_times = #{record.repeatTimes,jdbcType=SMALLINT},
      </if>
      <if test="record.feedbackType != null" >
        feedback_type = #{record.feedbackType,jdbcType=TINYINT},
      </if>
    </set>
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Mar 12 12:11:08 CST 2016.
    -->
    update 1dcq_message_center
    set message_id = #{record.messageId,jdbcType=BIGINT},
      handle_type = #{record.handleType,jdbcType=SMALLINT},
      client_system_type = #{record.clientSystemType,jdbcType=TINYINT},
      message_title = #{record.messageTitle,jdbcType=VARCHAR},
      show_content = #{record.showContent,jdbcType=VARCHAR},
      message_image = #{record.messageImage,jdbcType=VARCHAR},
      json_data = #{record.jsonData,jdbcType=VARCHAR},
      notify_type = #{record.notifyType,jdbcType=TINYINT},
      receiver_id = #{record.receiverId,jdbcType=INTEGER},
      notify_time = #{record.notifyTime,jdbcType=TIMESTAMP},
      notify_channel = #{record.notifyChannel,jdbcType=TINYINT},
      biz_type = #{record.bizType,jdbcType=TINYINT},
      biz_id = #{record.bizId,jdbcType=INTEGER},
      message_status = #{record.messageStatus,jdbcType=TINYINT},
      notify_model = #{record.notifyModel,jdbcType=TINYINT},
      expect_send_time = #{record.expectSendTime,jdbcType=TIMESTAMP},
      send_result = #{record.sendResult,jdbcType=TINYINT},
      repeat_times = #{record.repeatTimes,jdbcType=SMALLINT},
      feedback_type = #{record.feedbackType,jdbcType=TINYINT}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateFeedBackTypeById" parameterType="java.util.Map" >
    update 1dcq_message_center
    set feedback_type = #{feedBackType}
    <where>
   		<if test="bizType != null and bizType != 16">
   			<if test="messageCenterDtoId != null">
   				and biz_id = #{messageCenterDtoId,jdbcType=BIGINT}
   			</if>
   		</if>
   		<if test="bizType != null and bizType == 16">
   			<if test="messageCenterDtoId != null">
   				and message_id = #{messageCenterDtoId,jdbcType=BIGINT}
   			</if>
   		</if>
   		<if test="notifyType != null">
   			and notify_type = #{notifyType}
   		</if>
   		<if test="receiverId != null">
   			and receiver_id = #{receiverId}
   		</if>
    </where>
  </update>
  <update id="updateMessageCenterDtoById" parameterType="com.idcq.appserver.dto.message.MessageCenterDto" >
    update 1dcq_message_center
    <set >
      <if test="handleType != null" >
        handle_type = #{handleType,jdbcType=SMALLINT},
      </if>
      <if test="clientSystemType != null" >
        client_system_type = #{clientSystemType,jdbcType=TINYINT},
      </if>
      <if test="messageTitle != null" >
        message_title = #{messageTitle,jdbcType=VARCHAR},
      </if>
      <if test="showContent != null" >
        show_content = #{showContent,jdbcType=VARCHAR},
      </if>
      <if test="messageImage != null" >
        message_image = #{messageImage,jdbcType=VARCHAR},
      </if>
      <if test="jsonData != null" >
        json_data = #{jsonData,jdbcType=VARCHAR},
      </if>
      <if test="notifyType != null" >
        notify_type = #{notifyType,jdbcType=TINYINT},
      </if>
      <if test="receiverId != null" >
        receiver_id = #{receiverId,jdbcType=INTEGER},
      </if>
      <if test="notifyTime != null" >
        notify_time = #{notifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="notifyChannel != null" >
        notify_channel = #{notifyChannel,jdbcType=TINYINT},
      </if>
      <if test="bizType != null" >
        biz_type = #{bizType,jdbcType=TINYINT},
      </if>
      <if test="bizId != null" >
        biz_id = #{bizId,jdbcType=INTEGER},
      </if>
      <if test="messageStatus != null" >
        message_status = #{messageStatus,jdbcType=TINYINT},
      </if>
      <if test="notifyModel != null" >
        notify_model = #{notifyModel,jdbcType=TINYINT},
      </if>
      <if test="expectSendTime != null" >
        expect_send_time = #{expectSendTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sendResult != null" >
        send_result = #{sendResult,jdbcType=TINYINT},
      </if>
      <if test="repeatTimes != null" >
        repeat_times = #{repeatTimes,jdbcType=SMALLINT},
      </if>
      <if test="feedbackType != null" >
        feedback_type = #{feedbackType,jdbcType=TINYINT},
      </if>
    </set>
    where message_id = #{messageId,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.idcq.appserver.dto.message.MessageCenterDto" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Mar 12 12:11:08 CST 2016.
    -->
    update 1dcq_message_center
    set handle_type = #{handleType,jdbcType=SMALLINT},
      client_system_type = #{clientSystemType,jdbcType=TINYINT},
      message_title = #{messageTitle,jdbcType=VARCHAR},
      show_content = #{showContent,jdbcType=VARCHAR},
      message_image = #{messageImage,jdbcType=VARCHAR},
      json_data = #{jsonData,jdbcType=VARCHAR},
      notify_type = #{notifyType,jdbcType=TINYINT},
      receiver_id = #{receiverId,jdbcType=INTEGER},
      notify_time = #{notifyTime,jdbcType=TIMESTAMP},
      notify_channel = #{notifyChannel,jdbcType=TINYINT},
      biz_type = #{bizType,jdbcType=TINYINT},
      biz_id = #{bizId,jdbcType=INTEGER},
      message_status = #{messageStatus,jdbcType=TINYINT},
      notify_model = #{notifyModel,jdbcType=TINYINT},
      expect_send_time = #{expectSendTime,jdbcType=TIMESTAMP},
      send_result = #{sendResult,jdbcType=TINYINT},
      repeat_times = #{repeatTimes,jdbcType=SMALLINT},
      feedback_type = #{feedbackType,jdbcType=TINYINT}
    where message_id = #{messageId,jdbcType=BIGINT}
  </update>
</mapper>